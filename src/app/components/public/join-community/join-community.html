<nav style="z-index: 9999;">
  <div class="nav__header">
    <div class="nav__logo">
      <a href="#" class="logo">Mala Jangam Community</a>
    </div>

    <div class="nav__menu__btn" (click)="toggleMenu()">
      <i class="ri-menu-line"></i>
    </div>
  </div>

  <ul class="nav__links" [class.open]="isMenuOpen">
    <li><a (click)="redirect('dashboard','home')">HOME</a></li>
    <li><a (click)="redirect('dashboard','about')">ABOUT</a></li>
    <li><a (click)="redirect('dashboard','joinus')">WHY JOIN US</a></li>
    <li><a (click)="redirect('dashboard','ratings')">RATINGS</a></li>
    <li><a (click)="redirect('dashboard','contact')">CONTACT</a></li>
    <li><a (click)="redirect('explore')">Explore Members</a></li>
  </ul>

  <div class="nav__btns">
    <button class="cu_btn" (click)="redirect('explore')">
      Explore Members
    </button>
    <button class="cu_btn-secondary" style="margin-left: 15px;" (click)="redirect('login')">
      Login
    </button>
  </div>
</nav>

<header id="home">
  <div class="header__container">
    <div class="header__content">
      <h2>Register Now and Become Part of the Mala Jangam Community.</h2>
    </div>
  </div>
</header>
@if (loading) {
<div class="loader-container">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
}

<section class="vertical__section">
  <div class="d-flex">
    <div class="col-4 d-none d-lg-block">
      <div class="container">
        <div class="shadow__card">
          <span><i class="ri-camera-lens-line"></i></span>
          <h4>View Contacts</h4>
          <p>
            Access contact number and connect directly on call or via sms
          </p>
        </div>
        <div class="shadow__card">
          <span><i class="ri-ship-line"></i></span>
          <h4>View Email</h4>
          <p>
            Get the email id of your selected profile and reach via email
          </p>
        </div>
        <div class="shadow__card">
          <span><i class="ri-landscape-line"></i></span>
          <h4>Showcasing Community’s Strength</h4>
          <p>
            To highlight the unity, achievements, and cultural richness of the Mala Jangam community, strengthening
            pride
            and
            collective identity.
          </p>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-8">
      <div class="container-fluid">
        <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="shadow__form">

          <h3 class="mb-4">Registration Details</h3>

          <!-- Name -->
          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label class="form-label">
                First Name <span class="required">*</span>
              </label>
              <input type="text" class="form-control" formControlName="firstName">
              <div class="text-danger"
                *ngIf="registrationForm.get('firstName')?.touched && registrationForm.get('firstName')?.invalid">
                <small *ngIf="registrationForm.get('firstName')?.errors?.['required']">First Name is required</small>
              </div>
            </div>

            <div class="col-md-4">
              <label class="form-label">Middle Name</label>
              <input type="text" class="form-control" formControlName="middleName">
            </div>

            <div class="col-md-4">
              <label class="form-label">
                Last Name <span class="required">*</span>
              </label>
              <input type="text" class="form-control" formControlName="lastName">
              <div class="text-danger"
                *ngIf="registrationForm.get('lastName')?.touched && registrationForm.get('lastName')?.invalid">
                <small *ngIf="registrationForm.get('lastName')?.errors?.['required']">Last Name is required</small>
              </div>
            </div>
          </div>

          <!-- Gender, DOB, Age -->
          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label class="form-label">
                Gender <span class="required">*</span>
              </label>
              <select class="form-select" formControlName="gender">
                <option value="">Select</option>
                <option>Male</option>
                <option>Female</option>
                <option>Other</option>
              </select>
              <div class="text-danger"
                *ngIf="registrationForm.get('gender')?.touched && registrationForm.get('gender')?.invalid">
                <small *ngIf="registrationForm.get('gender')?.errors?.['required']">Gender is required</small>
              </div>
            </div>

            <div class="col-md-4">
              <label class="form-label">
                Date of Birth <span class="required">*</span>
              </label>
              <input type="date" class="form-control" formControlName="dob" (change)="calculateAge()">
              <div class="text-danger"
                *ngIf="registrationForm.get('dob')?.touched && registrationForm.get('dob')?.invalid">
                <small *ngIf="registrationForm.get('dob')?.errors?.['required']">Date of Birth is required</small>
              </div>
            </div>

            <div class="col-md-4">
              <label class="form-label">Age</label>
              <input type="number" class="form-control" formControlName="age" readonly>
            </div>
          </div>

          <!-- Contact -->
          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label class="form-label">Marital Status</label>
              <select class="form-select" formControlName="maritalStatus">
                <option value="">Select</option>
                <option>Single</option>
                <option>Married</option>
                <option>Divorced</option>
                <option>Widowed</option>
              </select>
            </div>

            <div class="col-md-4">
              <label class="form-label">
                Mobile Number <span class="required">*</span>
              </label>
              <input type="tel" class="form-control" formControlName="mobile">
              <div class="text-danger"
                *ngIf="registrationForm.get('mobile')?.touched && registrationForm.get('mobile')?.invalid">
                <small *ngIf="registrationForm.get('mobile')?.errors?.['required']">Mobile number is required</small>
                <small *ngIf="registrationForm.get('mobile')?.errors?.['pattern']">Enter valid 10-digit mobile
                  number</small>
              </div>
            </div>

            <div class="col-md-4">
              <label class="form-label">Alternate Mobile</label>
              <input type="tel" class="form-control" formControlName="alternateMobile">
              <div class="text-danger"
                *ngIf="registrationForm.get('alternateMobile')?.touched && registrationForm.get('alternateMobile')?.invalid">
                <small *ngIf="registrationForm.get('alternateMobile')?.errors?.['required']">Alternate mobile number is
                  required</small>
                <small *ngIf="registrationForm.get('alternateMobile')?.errors?.['pattern']">Enter valid 10-digit
                  alternate mobile
                  number</small>
              </div>
            </div>
          </div>

          <!-- Email & Aadhaar -->
          <div class="row g-3 mb-4">
            <div class="col-md-4">
              <label class="form-label">
                Email <span class="required">*</span>
              </label>
              <input type="email" class="form-control" formControlName="email">
              <div class="text-danger"
                *ngIf="registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid">
                <small *ngIf="registrationForm.get('email')?.errors?.['required']">Email is required</small>
                <small *ngIf="registrationForm.get('email')?.errors?.['email']">Enter a valid email</small>
              </div>
            </div>

            <div class="col-md-4">
              <label class="form-label">Aadhaar Number</label>
              <input type="text" class="form-control" formControlName="aadhaar">
              <div class="text-danger"
                *ngIf="registrationForm.get('aadhaar')?.touched && registrationForm.get('aadhaar')?.invalid">
                <small *ngIf="registrationForm.get('aadhaar')?.errors?.['pattern']">Enter valid 12-digit Aadhaar
                  number</small>
              </div>
            </div>

            <div class="col-md-4">
              <label class="form-label">Sub-Caste / Gothram</label>
              <input type="text" class="form-control" formControlName="subCaste">
            </div>
          </div>
          <hr>

          <!-- Family Details -->
          <h4 class="mb-3">Family Details</h4>
          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <label class="form-label">Father’s Name</label>
              <input type="text" class="form-control" formControlName="fatherName">
            </div>
            <div class="col-md-6">
              <label class="form-label">Father’s Occupation</label>
              <input type="text" class="form-control" formControlName="fatherOccupation">
            </div>
          </div>

          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <label class="form-label">Mother’s Name</label>
              <input type="text" class="form-control" formControlName="motherName">
            </div>
            <div class="col-md-6">
              <label class="form-label">Mother’s Occupation</label>
              <input type="text" class="form-control" formControlName="motherOccupation">
            </div>
          </div>

          <hr>

          <!-- Address -->
          <h4 class="mb-3">Address Details</h4>
          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label class="form-label">House No</label>
              <input type="text" class="form-control" formControlName="houseNo">
            </div>
            <div class="col-md-4">
              <label class="form-label">Street</label>
              <input type="text" class="form-control" formControlName="street">
            </div>
            <div class="col-md-4">
              <label class="form-label">City</label>
              <input type="text" class="form-control" formControlName="city">
            </div>
          </div>
          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label class="form-label">Taluka</label>
              <input type="text" class="form-control" formControlName="taluka">
            </div>
            <div class="col-md-4">
              <label class="form-label">Mandal</label>
              <input type="text" class="form-control" formControlName="mandal">
            </div>
            <div class="col-md-4">
              <label class="form-label">Village</label>
              <input type="text" class="form-control" formControlName="village">
            </div>
          </div>
          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <label class="form-label">Village Group</label>
              <select class="form-select" formControlName="villageGroup">
                <option>Group 1</option>
                <option>Group 2</option>
                <option>Group 3</option>
                <option>Other</option>
              </select>
            </div>
          </div>

          <hr>

          <!-- Education -->
          <h4 class="mb-3">Education Details</h4>
          <div class="row g-3 mb-4">
            <div class="col-md-6">
              <label class="form-label">Highest Qualification</label>
              <select class="form-select" formControlName="qualification">
                <option>SSC</option>
                <option>Intermediate</option>
                <option>Diploma</option>
                <option>Degree</option>
                <option>PG</option>
                <option>PhD</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label">Course</label>
              <input type="text" class="form-control" formControlName="course">
            </div>
          </div>
          <!-- The rest of the form stays the same -->
          <hr>

          <h4 class="mb-3">Upload Document</h4>

          <div class="row g-3 mb-4">
            <div class="col-md-6">
                  <mat-label>Supporting Document</mat-label>

            <input
              type="file"
              hidden
              #docInput
              accept=".pdf,.jpg,.jpeg,.png"
              (change)="onDocumentSelected($event)"
            />

            <!-- Clickable filename -->
            <input
              matInput
              [value]="selectedDocument?.name || ''"
              placeholder="Choose file"
              readonly
              style="cursor: pointer;"
              (click)="openDocument()"
            />

            <!-- Attach icon -->
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="docInput.click()">
              <mat-icon>attach_file</mat-icon>
            </button>

          <small class="text-muted">
            Allowed: PDF, JPG, PNG (Max 5MB)
          </small>

            </div>
          </div>


          <div class="text-center">
            <button type="submit" class="cu_btn px-5">Submit Registration</button>
          </div>

        </form>
      </div>


    </div>
  </div>
</section>

<footer>
  <div class="section__container footer__container">
    <div class="footer__col">
      <div class="footer__logo">
        <a href="#" class="logo">Jangam Community Online</a>
      </div>
      <p>
        Connecting, Showcasing, and Strengthening the Mala Jangam Community
      </p>
      <ul class="footer__socials">
        <li>
          <a href="https://www.facebook.com/people/Malajangam/61576704044490/"><i class="ri-facebook-fill"></i></a>
        </li>
        <li>
          <a href="https://www.instagram.com/madhavi.jangam/"><i class="ri-instagram-line"></i></a>
        </li>
        <li>
          <a href="https://www.youtube.com/results?search_query=mala+Jangam"><i class="ri-youtube-line"></i></a>
        </li>
      </ul>
    </div>
    <div class="footer__col">
      <h4>Quick Links</h4>
      <ul class="footer__links">

        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a (click)="redirect('register')" style="cursor: pointer;">Join Us</a></li>
        <li><a href="#ratings">Ratings</a></li>
      </ul>
    </div>
    <div class="footer__col">
      <h4>Contact Us</h4>
      <ul class="footer__links">
        <li>
          <a href="callto:+918374604065">
            <span><i class="ri-phone-fill"></i></span>+91 8374604065
          </a>
        </li>
        <li>
          <a href="mailto:jangammadhavi3@gmail.com">
            <span><i class="ri-record-mail-line"></i></span>
            jangammadhavi3@gmail.com
          </a>
        </li>
        <li>
          <a href="https://maps.app.goo.gl/U9KpjkL423Y2Usbq9" target="_blank">
            <span><i class="ri-map-pin-2-fill"></i></span>BHEL MIG 502032, Hyderabad, India
          </a>
        </li>
      </ul>
    </div>
    <div class="footer__col">
      <h4>Rate Our Service</h4>
      <app-star-rating [(rating)]="productRating" [maxStars]="5" [readonly]="false" [size]="28">
      </app-star-rating>
      <br>
      <button class="cu_btn mt-2" (click)="submitRating()">Submit Rating</button>
    </div>
  </div>
</footer>
